<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
<meta charset="UTF-8">
<title>iPhone Audio Test</title>
<style>
body { font-family: sans-serif; padding: 20px; }
button { padding: 10px 20px; font-size: 18px; margin: 10px 0; }
</style>
</head>
<body>

<h2>בדיקת אודיו באייפון</h2>

<button onclick="playImmediate()">▶️ ניגון מיידי</button>
<button onclick="playAfterDelay()">⏱️ ניגון לאחר 3 שניות</button>

<script>

// קובץ קול קצר שאמור לעבוד בכל דפדפן
const audioUrl = "https://actions.google.com/sounds/v1/alarms/beep_short.ogg";

// 1️⃣ אמור לעבוד באייפון כי זה ניגון ישיר בעקבות לחיצה
function playImmediate() {
    const sound = new Audio(audioUrl);
    sound.currentTime = 0;
    sound.play().catch(err => alert("Immediate error: " + err));
}

// 2️⃣ לרוב לא יעבוד באייפון → זה מה שאנחנו רוצים לבדוק
function playAfterDelay() {
    setTimeout(() => {
        const sound = new Audio(audioUrl);
        sound.currentTime = 0;
        sound.play().catch(err => alert("Delayed error: " + err));
    }, 3000);
}

</script>
</body>
</html>
